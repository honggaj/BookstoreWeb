<section class="pt-6 px-4">
  <h2 class="text-2xl font-bold text-center text-pink-700 mb-6">Combo Sách Khuyến Mãi</h2>

  <div *ngIf="loading" class="text-center text-gray-500">Đang tải combo...</div>

  <ul *ngIf="!loading" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 justify-center pt-4 items-stretch">
    <li *ngFor="let combo of combos"
        class="bg-white border border-gray-200 rounded-lg p-4 flex flex-col text-center shadow-sm h-full">

      <!-- Header -->
      <div class="mb-2 flex justify-between items-center w-full">
        <span *ngIf="combo.totalPrice && combo.discountPrice"
          class="bg-blue-600 text-white text-xs font-semibold rounded px-2 py-0.5">
          {{
            (((combo.totalPrice - combo.discountPrice) / combo.totalPrice) * 100) 
              | number:'1.0-0'
          }}%
        </span>
        <span *ngIf="!combo.totalPrice || !combo.discountPrice"
          class="bg-gray-400 text-white text-xs font-semibold rounded px-2 py-0.5">Combo</span>
      </div>

      <!-- Ảnh -->
      <img [src]="combo.image" alt="Combo Image" class="w-full h-36 object-contain mb-3" />

      <!-- Tiêu đề -->
      <h3 class="text-sm font-semibold text-gray-900 truncate">{{ combo.name || 'Combo không tên' }}</h3>

      <!-- Mô tả -->
      <p class="text-xs text-gray-500 truncate">{{ combo.description || 'Không có mô tả' }}</p>

      <!-- Giá -->
      <p class="text-blue-600 font-semibold mb-3">
        {{ combo.discountPrice ? (combo.discountPrice | number:'1.0-0') + ' VNĐ' : 'Contact' }}
        <span *ngIf="combo.totalPrice" class="line-through text-gray-400 text-sm ml-1">
          {{ combo.totalPrice | number:'1.0-0' }} VNĐ
        </span>
      </p>

      <!-- Nút -->
      <div class="flex justify-center items-center space-x-2 mt-auto pt-3">
        <button (click)="addToCart(combo)"
          class="bg-blue-100 text-blue-600 text-xs font-semibold rounded px-3 py-1 hover:bg-blue-200">
          <i class="fas fa-cart-plus mr-1"></i> Thêm
        </button>
        <button (click)="goToDetail(combo.comboId!)"
          class="bg-blue-100 text-blue-600 text-xs font-semibold rounded px-3 py-1 hover:bg-blue-200">
          <i class="fas fa-eye mr-1"></i> Xem
        </button>
      </div>
    </li>
  </ul>
</section>
