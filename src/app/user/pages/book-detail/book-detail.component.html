<main class="max-w-7xl mx-auto px-4 py-6 grid grid-cols-1 lg:grid-cols-12 gap-6">

    <!-- LEFT: Book detail + Services -->
    <div class="lg:col-span-9 space-y-6">

        <!-- Book Detail -->
        <section class="bg-white rounded-lg shadow p-6">
            <div *ngIf="book" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Image -->
                <div class="flex justify-center">
                    <img [src]="book.coverImageUrl || 'https://via.placeholder.com/300x400'" alt="Book Cover"
                        class="w-64 h-80 object-cover rounded-lg " />
                </div>

                <!-- Info -->
                <div class="space-y-4">
                    <h1 class="text-2xl font-bold text-gray-900">{{ book.title || 'Kh√¥ng c√≥ ti√™u ƒë·ªÅ' }}</h1>
                    <p class="text-gray-600 text-sm">T√°c gi·∫£: <span class="font-medium">{{ book.author || 'Kh√¥ng r√µ'
                            }}</span></p>
                    <p class="text-blue-600 font-semibold text-lg">{{ book.price ? (book.price | number : '1.0-0') :
                        'Li√™n h·ªá' }} VNƒê</p>
                    <p class="text-sm text-gray-600">Ng√†y xu·∫•t b·∫£n: {{ book.publishedDate | date:'dd/MM/yyyy' }}</p>
                    <p class="text-sm text-gray-600">T·ªìn kho: {{ book.stock || 0 }}</p>
                    <p class="text-gray-700 text-sm leading-relaxed">
                        <strong>M√¥ t·∫£:</strong><br>
                        {{ book.description || 'Kh√¥ng c√≥ m√¥ t·∫£.' }}
                    </p>

                    <!-- Buttons -->
                    <div class="flex space-x-4 pt-4">
                        <button class="bg-blue-600 text-white text-sm font-medium px-4 py-2 rounded hover:bg-blue-700">
                            <i class="fas fa-cart-plus mr-2"></i> Th√™m v√†o gi·ªè
                        </button>
                        <button
                            class="bg-gray-100 text-gray-800 text-sm font-medium px-4 py-2 rounded hover:bg-gray-200">
                            <i class="fas fa-arrow-left mr-2"></i> Quay l·∫°i
                        </button>
                    </div>
                </div>
            </div>

            <ng-template #loading>
                <div class="text-center text-gray-500">ƒêang t·∫£i th√¥ng tin s√°ch...</div>
            </ng-template>
        </section>

        <!-- Services -->
        <section class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- D·ªãch v·ª• 1 -->
            <div class="bg-gray-100 rounded-xl shadow-md p-6 text-center hover:bg-gray-200 transition">
                <div class="text-blue-600 text-4xl mb-3">üîÑ</div>
                <h3 class="text-lg font-semibold text-gray-800 mb-1">ƒê·ªïi tr·∫£ linh ho·∫°t</h3>
                <p class="text-sm text-gray-600">H·ªó tr·ª£ ƒë·ªïi tr·∫£ trong 7 ng√†y n·∫øu l·ªói t·ª´ nh√† s·∫£n xu·∫•t.</p>
            </div>

            <!-- D·ªãch v·ª• 2 -->
            <div class="bg-gray-100 rounded-xl shadow-md p-6 text-center hover:bg-gray-200 transition">
                <div class="text-green-600 text-4xl mb-3">üöÄ</div>
                <h3 class="text-lg font-semibold text-gray-800 mb-1">Giao h√†ng si√™u t·ªëc</h3>
                <p class="text-sm text-gray-600">Nh·∫≠n h√†ng trong 1-2 ng√†y l√†m vi·ªác t·∫°i n·ªôi th√†nh.</p>
            </div>

            <!-- D·ªãch v·ª• 3 -->
            <div class="bg-gray-100 rounded-xl shadow-md p-6 text-center hover:bg-gray-200 transition">
                <div class="text-yellow-600 text-4xl mb-3">üìû</div>
                <h3 class="text-lg font-semibold text-gray-800 mb-1">T∆∞ v·∫•n mi·ªÖn ph√≠</h3>
                <p class="text-sm text-gray-600">G·ªçi 1900 123 456 ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£ ch·ªçn s√°ch ph√π h·ª£p.</p>
            </div>

            <!-- D·ªãch v·ª• 4 -->
            <div class="bg-gray-100 rounded-xl shadow-md p-6 text-center hover:bg-gray-200 transition">
                <div class="text-red-600 text-4xl mb-3">üîê</div>
                <h3 class="text-lg font-semibold text-gray-800 mb-1">B·∫£o m·∫≠t tuy·ªát ƒë·ªëi</h3>
                <p class="text-sm text-gray-600">Cam k·∫øt kh√¥ng chia s·∫ª th√¥ng tin kh√°ch h√†ng cho b√™n th·ª© ba.</p>
            </div>
        </section>
        <!-- Random Books -->
        <!-- Random Books Grid -->
        <section>
            <h2 class="text-lg font-semibold text-gray-800 mb-4">C√≥ th·ªÉ b·∫°n s·∫Ω th√≠ch üî•</h2>
            <ul class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 xl:grid-cols-4 gap-6 justify-center pt-2">
                <li *ngFor="let book of randomBooks"
                    class="bg-white border border-gray-200 rounded-lg p-4 flex flex-col items-center text-center shadow-sm">

                    <div class="mb-2 text-left w-full">
                        <span class="bg-blue-600 text-white text-xs font-semibold rounded px-2 py-0.5">M·ªõi</span>
                    </div>

                    <img [src]="book.coverImageUrl || 'https://via.placeholder.com/120x180'" alt="Book Image"
                        class="w-full h-36 object-contain mb-3" />

                    <h3 class="text-sm font-semibold text-gray-900">{{ book.title || 'Kh√¥ng ti√™u ƒë·ªÅ' }}</h3>

                    <div class="flex items-center justify-center text-yellow-400 text-xs mb-1">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i>
                        <i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>
                        <span class="ml-1 text-gray-400">(2)</span>
                    </div>

                    <p class="text-xs text-gray-500">T√°c gi·∫£: {{ book.author || '·∫®n danh' }}</p>
                    <p class="text-blue-600 font-semibold mb-3">
                        {{ book.price ? (book.price | number : '1.0-0') : 'Li√™n h·ªá' }} VNƒê
                    </p>

                    <div class="flex justify-center items-center space-x-2">
                        <button
                            class="bg-blue-100 text-blue-600 text-xs font-semibold rounded px-3 py-1 hover:bg-blue-200">
                            <i class="fas fa-cart-plus mr-1"></i> Add
                        </button>
                        <button
                            class="bg-blue-100 text-blue-600 text-xs font-semibold rounded px-3 py-1 hover:bg-blue-200"
                            (click)="goToDetail(book.bookId!)">
                            <i class="fas fa-eye mr-1"></i> Xem
                        </button>
                    </div>
                </li>
            </ul>
            <!-- N√∫t v·ªÅ trang ch·ªß -->
<div class="pt-6 flex justify-center">
  <button 
    class="bg-blue-600 text-white text-sm font-medium px-6 py-2 rounded hover:bg-blue-700 transition"
    (click)="goHome()">
    <i class="fas fa-arrow-right"></i> Xem t·∫•t c·∫£ 
  </button>
</div>

        </section>


    </div>

    <!-- RIGHT: Danh s√°ch s√°ch c√πng th·ªÉ lo·∫°i -->
    <aside class="lg:col-span-3 space-y-4">
        <h2 class="text-lg font-semibold text-gray-800 mb-3">S√°ch c√πng th·ªÉ lo·∫°i</h2>

        <div *ngFor="let item of books" class="bg-white rounded-md shadow p-3 flex items-center space-x-3">
            <img [src]="item.coverImageUrl || 'https://via.placeholder.com/60x80'" alt="Thumb"
                class="w-14 h-18 object-cover rounded" />
            <div class="flex-1">
                <h3 class="text-xs font-semibold text-gray-900 truncate">{{ item.title }}</h3>
                <p class="text-xs text-gray-600 truncate">T√°c gi·∫£: {{ item.author }}</p>
                <p class="text-blue-600 text-sm font-semibold">{{ item.price | number : '1.0-0' }} ƒë</p>
            </div>
        </div>
    </aside>
</main>