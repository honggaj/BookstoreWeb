<!-- auth-modal.component.html -->
<div *ngIf="isVisible" class="modal-backdrop flex items-center justify-center z-50 p-4">
  <div
    class="bg-white shadow-2xl w-full max-w-md max-h-screen overflow-auto transform transition-all duration-300 scale-100">

    <!-- Header -->
    <app-auth-header [currentMode]="currentMode"
      (closeClicked)="closeModal()">
    </app-auth-header>
   

    <!-- Body -->
    <div class="p-6">
      <!-- Mode Toggle (Only show for login/register) -->
      <app-auth-toggle *ngIf="isLoginMode || isRegisterMode" [currentMode]="currentMode"
        (modeChanged)="setMode($event)">
      </app-auth-toggle>

      <!-- Back to Login Button (For forgot/reset password modes) -->
      <div *ngIf="isForgotPasswordMode || isResetPasswordMode" class="mb-6">
        <button (click)="backToLogin()"
          class="flex items-center text-blue-600 hover:text-blue-700 font-medium transition-colors">
          <i class="fas fa-arrow-left mr-2"></i>
          Quay lại đăng nhập
        </button>
      </div>

      <!-- Login Form -->
      <app-auth-login-form *ngIf="isLoginMode"
        (loginSuccess)="onLoginSuccess($event)"
        (forgotPasswordClicked)="showForgotPassword()">
      </app-auth-login-form>
      <!-- Register Form -->
      <app-auth-register-form *ngIf="isRegisterMode" (registerSuccess)="onRegisterSuccess()">
      </app-auth-register-form>

      <!-- Forgot Password Form -->
      <app-auth-forgot-password-form *ngIf="isForgotPasswordMode" (forgotPasswordSuccess)="onForgotPasswordSuccess()">
      </app-auth-forgot-password-form>

      <!-- Reset Password Form -->
      <app-auth-reset-password *ngIf="isResetPasswordMode" (resetPasswordSuccess)="onResetPasswordSuccess()">
      </app-auth-reset-password>
    </div>
  </div>
</div>